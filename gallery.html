<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | InfiniteShutter</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- NAV -->
<nav class="navbar">
    <h1 class="logo">InfiniteShutter</h1>

    <div class="hamburger" onclick="toggleMenu()">☰</div>

    <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="gallery.html" class="active">Gallery</a></li>
        <li><a href="pricing.html">Pricing</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</nav>

<main>

<!-- ACTIVE CATEGORY -->
<section class="active-category" id="activeCategory">
    <div class="active-cover">
        <img id="activeCoverImg" alt="">
        <h2 id="activeTitle"></h2>
    </div>

    <div class="active-images" id="activeImages"></div>
</section>

<!-- CATEGORY GRID -->
<section class="gallery-categories" id="categoriesGrid">

    <div class="category" data-title="Automotive" data-cover="images/automotive-cover.jpg"
         data-images="images/car1.jpg,images/car2.jpg,images/car3.jpg,images/car4.jpg,images/car5.jpg,images/car6.jpg,images/car7.jpg,images/car8.jpg,images/car9.jpg,
         images/car10.jpg, images/car11.jpg, images/car12.jpg">
        <button class="category-header">
            <img src="images/automotive-cover.jpg" alt="">
            <span>Automotive</span>
        </button>
    </div>

    <div class="category" data-title="Portrait" data-cover="images/portrait-cover.jpg"
         data-images="images/portrait1.jpg,images/portrait2.jpg,images/portrait3.jpg,images/portrait4.jpg,images/portrait5.jpg,images/portrait6.jpg,images/portrait7.jpg,images/portrait8.jpg,
         images/portrait9.jpg, images/portrait10.jpg, images/portrait11.jpg, images/portrait12.jpg">
        <button class="category-header">
            <img src="images/portrait-cover.jpg" alt="">
            <span>Portrait</span>
        </button>
    </div>

    <div class="category" data-title="Event" data-cover="images/event-cover.jpg"
         data-images="images/event1.jpg,images/event2.jpg,images/event3.jpg,images/event4.jpg,images/event5.jpg,images/event6.jpg,
         images/event7.jpg, images/event8.jpg">
        <button class="category-header">
            <img src="images/event-cover.jpg" alt="">
            <span>Event</span>
        </button>
    </div>

    <div class="category" data-title="Street" data-cover="images/street-cover.jpg"
         data-images="images/street1.jpg,images/street2.jpg,images/street3.jpg,images/street4.jpg,images/street5.jpg,images/street6.jpg,images/street7.jpg,
         images/street8.jpg, images/street9.jpg">
        <button class="category-header">
            <img src="images/street-cover.jpg" alt="">
            <span>Street</span>
        </button>
    </div>

</section>

</main>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
    <span class="close">&times;</span>
    <span class="prev">&#10094;</span>
    <img id="lightbox-img" alt="">
    <span class="next">&#10095;</span>
</div>

<script>
const categories = document.querySelectorAll('.category');
const activeSection = document.getElementById('activeCategory');
const activeTitle = document.getElementById('activeTitle');
const activeCoverImg = document.getElementById('activeCoverImg');
const activeImages = document.getElementById('activeImages');
const grid = document.getElementById('categoriesGrid');

const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightbox-img');

let images = [];
let currentIndex = 0;

categories.forEach(cat => {
    cat.querySelector('.category-header').onclick = () => {

        activeTitle.textContent = cat.dataset.title;
        activeCoverImg.src = cat.dataset.cover;
        activeImages.innerHTML = '';

        images = cat.dataset.images.split(',');

        images.forEach(src => {
            const img = document.createElement('img');
            img.src = src;
            img.onclick = () => openLightbox(src);
            activeImages.appendChild(img);
        });

        // Grid alul marad, aktív kártya eltűnik
        categories.forEach(c => c.style.display = 'block');
        cat.style.display = 'none';

        activeSection.style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    };
});

function openLightbox(src) {
    currentIndex = images.indexOf(src);
    lightboxImg.src = src;
    lightbox.classList.add('active');
}

function navigate(dir) {
    currentIndex = (currentIndex + dir + images.length) % images.length;
    lightboxImg.src = images[currentIndex];
}

document.querySelector('.close').onclick = () => lightbox.classList.remove('active');
document.querySelector('.prev').onclick = () => navigate(-1);
document.querySelector('.next').onclick = () => navigate(1);

document.addEventListener('keydown', e => {
    if (!lightbox.classList.contains('active')) return;
    if (e.key === 'Escape') lightbox.classList.remove('active');
    if (e.key === 'ArrowLeft') navigate(-1);
    if (e.key === 'ArrowRight') navigate(1);
});
</script>

</body>
</html>
